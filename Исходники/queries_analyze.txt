//Before 
(338.7ms)  SELECT MAX("locations"."distance") AS maximum_distance, "locations"."track_id" AS locations_track_id FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" INNER JOIN "cars" ON "cars"."id" = "tracks"."car_id" WHERE (cars.user_id = 1) ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC) GROUP BY "locations"."track_id"
(1448.5ms)  SELECT AVG("locations"."speed") FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" = $1 ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC)  [["car_id", 1]]
(1015.8ms)  SELECT AVG("locations"."speed") FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" = $1 ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC)  [["car_id", 3]]
(707.7ms)  SELECT SUM(l.distance) FROM (SELECT MAX(distance) as distance FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 1) GROUP BY "locations"."track_id") l
(856.8ms)  SELECT MAX("locations"."speed") FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" = $1 ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC)  [["car_id", 3]]
(1008.3ms)  SELECT MAX("locations"."distance") AS maximum_distance, "locations"."track_id" AS locations_track_id FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" = $1 ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC) GROUP BY "locations"."track_id"  [["car_id", 1]]
(1016.9ms)  SELECT MAX("locations"."speed") FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" IN (SELECT "cars"."id" FROM "cars" WHERE "cars"."user_id" = $1 ORDER BY "cars"."priority" DESC, "cars"."title" ASC) ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC)  [["user_id", 1]]
(1094.1ms)  SELECT MAX("locations"."distance") AS maximum_distance, "locations"."track_id" AS locations_track_id FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" = $1 ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC) GROUP BY "locations"."track_id"  [["car_id", 3]]
(1615.1ms)  SELECT SUM(l.duration) FROM (SELECT  EXTRACT(EPOCH FROM MAX(time) - MIN(time) ) as duration FROM "locations" INNER JOIN tracks ON tracks.id = locations.track_id WHERE (tracks.car_id = 1) GROUP BY "locations"."track_id") l
(1096.3ms)  SELECT SUM(l.distance) FROM (SELECT MAX(distance) as distance FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 3) GROUP BY "locations"."track_id") l
(741.4ms)  SELECT AVG("locations"."speed") FROM "locations" WHERE "locations"."state" IN ('TrackLocation') AND "locations"."track_id" IN (SELECT "tracks"."id" FROM "tracks" WHERE "tracks"."car_id" IN (SELECT "cars"."id" FROM "cars" WHERE "cars"."user_id" = $1 ORDER BY "cars"."priority" DESC, "cars"."title" ASC) ORDER BY "tracks"."start_time" DESC, "tracks"."id" DESC)  [["user_id", 1]]
(421.0ms)  SELECT SUM(l.duration) FROM (SELECT  EXTRACT(EPOCH FROM MAX(time) - MIN(time) ) as duration FROM "locations" INNER JOIN tracks ON tracks.id = locations.track_id WHERE (tracks.car_id = 3) GROUP BY "locations"."track_id") l
(448.8ms)  SELECT MAX(l.distance) FROM (SELECT MAX(distance) as distance FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 1) GROUP BY "locations"."track_id") l
(237.9ms)  SELECT MAX(l.distance) FROM (SELECT MAX(distance) as distance FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 3) GROUP BY "locations"."track_id") l
(597.8ms)  SELECT MIN(l.duration) FROM (SELECT  EXTRACT(EPOCH FROM MAX(time) - MIN(time) ) as duration FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 1) GROUP BY "locations"."track_id") l
(541.6ms)  SELECT MIN(l.duration) FROM (SELECT  EXTRACT(EPOCH FROM MAX(time) - MIN(time) ) as duration FROM "locations" INNER JOIN tracks ON tracks.id=locations.track_id WHERE (tracks.car_id = 3) GROUP BY "locations"."track_id") l
//After
